/*! For license information please see fortressdb_page_api.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("FDBLib"),require("fortressdb"),require("FDBLib").Components):"function"==typeof define&&define.amd?define("fortressdb",["FDBLib","fortressdb"],t):"object"==typeof exports?exports.fortressdb=t(require("FDBLib"),require("fortressdb"),require("FDBLib").Components):(e.fortressdb=e.fortressdb||{},e.fortressdb.pages=e.fortressdb.pages||{},e.fortressdb.pages.api=t(e.FDBLib,e.fortressdb,e.FDBLib.Components))}(self,(function(e,t,r){return(()=>{var n={4184:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var u=o.apply(null,r);u&&e.push(u)}}else if("object"===a)if(r.toString===Object.prototype.toString)for(var i in r)n.call(r,i)&&r[i]&&e.push(i);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},8552:(e,t,r)=>{var n=r(852)(r(5639),"DataView");e.exports=n},1989:(e,t,r)=>{var n=r(1789),o=r(401),a=r(7667),u=r(1327),i=r(1866);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=u,c.prototype.set=i,e.exports=c},8407:(e,t,r)=>{var n=r(7040),o=r(4125),a=r(2117),u=r(7518),i=r(4705);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=u,c.prototype.set=i,e.exports=c},7071:(e,t,r)=>{var n=r(852)(r(5639),"Map");e.exports=n},3369:(e,t,r)=>{var n=r(4785),o=r(1285),a=r(6e3),u=r(9916),i=r(5265);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=u,c.prototype.set=i,e.exports=c},3818:(e,t,r)=>{var n=r(852)(r(5639),"Promise");e.exports=n},8525:(e,t,r)=>{var n=r(852)(r(5639),"Set");e.exports=n},8668:(e,t,r)=>{var n=r(3369),o=r(619),a=r(2385);function u(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}u.prototype.add=u.prototype.push=o,u.prototype.has=a,e.exports=u},6384:(e,t,r)=>{var n=r(8407),o=r(7465),a=r(3779),u=r(7599),i=r(4758),c=r(4309);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=a,l.prototype.get=u,l.prototype.has=i,l.prototype.set=c,e.exports=l},2705:(e,t,r)=>{var n=r(5639).Symbol;e.exports=n},1149:(e,t,r)=>{var n=r(5639).Uint8Array;e.exports=n},577:(e,t,r)=>{var n=r(852)(r(5639),"WeakMap");e.exports=n},6874:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},4963:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var u=e[r];t(u,r,e)&&(a[o++]=u)}return a}},4636:(e,t,r)=>{var n=r(2545),o=r(5694),a=r(1469),u=r(4144),i=r(5776),c=r(6719),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=a(e),s=!r&&o(e),f=!r&&!s&&u(e),p=!r&&!s&&!f&&c(e),d=r||s||f||p,v=d?n(e.length,String):[],y=v.length;for(var m in e)!t&&!l.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||i(m,y))||v.push(m);return v}},9932:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},2488:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},2663:e=>{e.exports=function(e,t,r,n){var o=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++o]);++o<a;)r=t(r,e[o],o,e);return r}},2908:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},4286:e=>{e.exports=function(e){return e.split("")}},9029:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},6556:(e,t,r)=>{var n=r(9465),o=r(7813);e.exports=function(e,t,r){(void 0!==r&&!o(e[t],r)||void 0===r&&!(t in e))&&n(e,t,r)}},4865:(e,t,r)=>{var n=r(9465),o=r(7813),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var u=e[t];a.call(e,t)&&o(u,r)&&(void 0!==r||t in e)||n(e,t,r)}},8470:(e,t,r)=>{var n=r(7813);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},9465:(e,t,r)=>{var n=r(8777);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},3118:(e,t,r)=>{var n=r(3218),o=Object.create,a=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=a},8483:(e,t,r)=>{var n=r(5063)();e.exports=n},8866:(e,t,r)=>{var n=r(2488),o=r(1469);e.exports=function(e,t,r){var a=t(e);return o(e)?a:n(a,r(e))}},4239:(e,t,r)=>{var n=r(2705),o=r(9607),a=r(2333),u=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":u&&u in Object(e)?o(e):a(e)}},9454:(e,t,r)=>{var n=r(4239),o=r(7005);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},939:(e,t,r)=>{var n=r(2492),o=r(7005);e.exports=function e(t,r,a,u,i){return t===r||(null==t||null==r||!o(t)&&!o(r)?t!=t&&r!=r:n(t,r,a,u,e,i))}},2492:(e,t,r)=>{var n=r(6384),o=r(7114),a=r(8351),u=r(6096),i=r(4160),c=r(1469),l=r(4144),s=r(6719),f="[object Arguments]",p="[object Array]",d="[object Object]",v=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,y,m,b){var h=c(e),g=c(t),x=h?p:i(e),E=g?p:i(t),w=(x=x==f?d:x)==d,O=(E=E==f?d:E)==d,j=x==E;if(j&&l(e)){if(!l(t))return!1;h=!0,w=!1}if(j&&!w)return b||(b=new n),h||s(e)?o(e,t,r,y,m,b):a(e,t,x,r,y,m,b);if(!(1&r)){var S=w&&v.call(e,"__wrapped__"),_=O&&v.call(t,"__wrapped__");if(S||_){var C=S?e.value():e,k=_?t.value():t;return b||(b=new n),m(C,k,r,y,b)}}return!!j&&(b||(b=new n),u(e,t,r,y,m,b))}},8458:(e,t,r)=>{var n=r(3560),o=r(5346),a=r(3218),u=r(346),i=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,s=c.toString,f=l.hasOwnProperty,p=RegExp("^"+s.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(n(e)?p:i).test(u(e))}},8749:(e,t,r)=>{var n=r(4239),o=r(1780),a=r(7005),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!u[n(e)]}},280:(e,t,r)=>{var n=r(5726),o=r(6916),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},313:(e,t,r)=>{var n=r(3218),o=r(5726),a=r(3498),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=o(e),r=[];for(var i in e)("constructor"!=i||!t&&u.call(e,i))&&r.push(i);return r}},2980:(e,t,r)=>{var n=r(6384),o=r(6556),a=r(8483),u=r(9783),i=r(3218),c=r(1704),l=r(6390);e.exports=function e(t,r,s,f,p){t!==r&&a(r,(function(a,c){if(p||(p=new n),i(a))u(t,r,c,s,e,f,p);else{var d=f?f(l(t,c),a,c+"",t,r,p):void 0;void 0===d&&(d=a),o(t,c,d)}}),c)}},9783:(e,t,r)=>{var n=r(6556),o=r(4626),a=r(7133),u=r(278),i=r(8517),c=r(5694),l=r(1469),s=r(9246),f=r(4144),p=r(3560),d=r(3218),v=r(8630),y=r(6719),m=r(6390),b=r(9881);e.exports=function(e,t,r,h,g,x,E){var w=m(e,r),O=m(t,r),j=E.get(O);if(j)n(e,r,j);else{var S=x?x(w,O,r+"",e,t,E):void 0,_=void 0===S;if(_){var C=l(O),k=!C&&f(O),N=!C&&!k&&y(O);S=O,C||k||N?l(w)?S=w:s(w)?S=u(w):k?(_=!1,S=o(O,!0)):N?(_=!1,S=a(O,!0)):S=[]:v(O)||c(O)?(S=w,c(w)?S=b(w):d(w)&&!p(w)||(S=i(O))):_=!1}_&&(E.set(O,S),g(S,O,h,x,E),E.delete(O)),n(e,r,S)}}},8674:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},5976:(e,t,r)=>{var n=r(6557),o=r(5357),a=r(61);e.exports=function(e,t){return a(o(e,t,n),e+"")}},6560:(e,t,r)=>{var n=r(5703),o=r(8777),a=r(6557),u=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:a;e.exports=u},4259:e=>{e.exports=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a}},2545:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},531:(e,t,r)=>{var n=r(2705),o=r(9932),a=r(1469),u=r(3448),i=n?n.prototype:void 0,c=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return o(t,e)+"";if(u(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},180:(e,t,r)=>{var n=r(4259);e.exports=function(e,t,r){var o=e.length;return r=void 0===r?o:r,!t&&r>=o?e:n(e,t,r)}},4318:(e,t,r)=>{var n=r(1149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},4626:(e,t,r)=>{e=r.nmd(e);var n=r(5639),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,u=a&&a.exports===o?n.Buffer:void 0,i=u?u.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=i?i(r):new e.constructor(r);return e.copy(n),n}},7133:(e,t,r)=>{var n=r(4318);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},278:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},8363:(e,t,r)=>{var n=r(4865),o=r(9465);e.exports=function(e,t,r,a){var u=!r;r||(r={});for(var i=-1,c=t.length;++i<c;){var l=t[i],s=a?a(r[l],e[l],l,r,e):void 0;void 0===s&&(s=e[l]),u?o(r,l,s):n(r,l,s)}return r}},4429:(e,t,r)=>{var n=r(5639)["__core-js_shared__"];e.exports=n},1463:(e,t,r)=>{var n=r(5976),o=r(6612);e.exports=function(e){return n((function(t,r){var n=-1,a=r.length,u=a>1?r[a-1]:void 0,i=a>2?r[2]:void 0;for(u=e.length>3&&"function"==typeof u?(a--,u):void 0,i&&o(r[0],r[1],i)&&(u=a<3?void 0:u,a=1),t=Object(t);++n<a;){var c=r[n];c&&e(t,c,n,u)}return t}))}},5063:e=>{e.exports=function(e){return function(t,r,n){for(var o=-1,a=Object(t),u=n(t),i=u.length;i--;){var c=u[e?i:++o];if(!1===r(a[c],c,a))break}return t}}},8805:(e,t,r)=>{var n=r(180),o=r(2689),a=r(3140),u=r(9833);e.exports=function(e){return function(t){t=u(t);var r=o(t)?a(t):void 0,i=r?r[0]:t.charAt(0),c=r?n(r,1).join(""):t.slice(1);return i[e]()+c}}},5393:(e,t,r)=>{var n=r(2663),o=r(3816),a=r(8748),u=RegExp("['’]","g");e.exports=function(e){return function(t){return n(a(o(t).replace(u,"")),e,"")}}},9389:(e,t,r)=>{var n=r(8674)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});e.exports=n},8777:(e,t,r)=>{var n=r(852),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},7114:(e,t,r)=>{var n=r(8668),o=r(2908),a=r(4757);e.exports=function(e,t,r,u,i,c){var l=1&r,s=e.length,f=t.length;if(s!=f&&!(l&&f>s))return!1;var p=c.get(e),d=c.get(t);if(p&&d)return p==t&&d==e;var v=-1,y=!0,m=2&r?new n:void 0;for(c.set(e,t),c.set(t,e);++v<s;){var b=e[v],h=t[v];if(u)var g=l?u(h,b,v,t,e,c):u(b,h,v,e,t,c);if(void 0!==g){if(g)continue;y=!1;break}if(m){if(!o(t,(function(e,t){if(!a(m,t)&&(b===e||i(b,e,r,u,c)))return m.push(t)}))){y=!1;break}}else if(b!==h&&!i(b,h,r,u,c)){y=!1;break}}return c.delete(e),c.delete(t),y}},8351:(e,t,r)=>{var n=r(2705),o=r(1149),a=r(7813),u=r(7114),i=r(8776),c=r(1814),l=n?n.prototype:void 0,s=l?l.valueOf:void 0;e.exports=function(e,t,r,n,l,f,p){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=i;case"[object Set]":var v=1&n;if(d||(d=c),e.size!=t.size&&!v)return!1;var y=p.get(e);if(y)return y==t;n|=2,p.set(e,t);var m=u(d(e),d(t),n,l,f,p);return p.delete(e),m;case"[object Symbol]":if(s)return s.call(e)==s.call(t)}return!1}},6096:(e,t,r)=>{var n=r(8234),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,a,u,i){var c=1&r,l=n(e),s=l.length;if(s!=n(t).length&&!c)return!1;for(var f=s;f--;){var p=l[f];if(!(c?p in t:o.call(t,p)))return!1}var d=i.get(e),v=i.get(t);if(d&&v)return d==t&&v==e;var y=!0;i.set(e,t),i.set(t,e);for(var m=c;++f<s;){var b=e[p=l[f]],h=t[p];if(a)var g=c?a(h,b,p,t,e,i):a(b,h,p,e,t,i);if(!(void 0===g?b===h||u(b,h,r,a,i):g)){y=!1;break}m||(m="constructor"==p)}if(y&&!m){var x=e.constructor,E=t.constructor;x==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof E&&E instanceof E||(y=!1)}return i.delete(e),i.delete(t),y}},1957:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},8234:(e,t,r)=>{var n=r(8866),o=r(9551),a=r(3674);e.exports=function(e){return n(e,a,o)}},5050:(e,t,r)=>{var n=r(7019);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},852:(e,t,r)=>{var n=r(8458),o=r(7801);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},5924:(e,t,r)=>{var n=r(5569)(Object.getPrototypeOf,Object);e.exports=n},9607:(e,t,r)=>{var n=r(2705),o=Object.prototype,a=o.hasOwnProperty,u=o.toString,i=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,i),r=e[i];try{e[i]=void 0;var n=!0}catch(e){}var o=u.call(e);return n&&(t?e[i]=r:delete e[i]),o}},9551:(e,t,r)=>{var n=r(4963),o=r(479),a=Object.prototype.propertyIsEnumerable,u=Object.getOwnPropertySymbols,i=u?function(e){return null==e?[]:(e=Object(e),n(u(e),(function(t){return a.call(e,t)})))}:o;e.exports=i},4160:(e,t,r)=>{var n=r(8552),o=r(7071),a=r(3818),u=r(8525),i=r(577),c=r(4239),l=r(346),s="[object Map]",f="[object Promise]",p="[object Set]",d="[object WeakMap]",v="[object DataView]",y=l(n),m=l(o),b=l(a),h=l(u),g=l(i),x=c;(n&&x(new n(new ArrayBuffer(1)))!=v||o&&x(new o)!=s||a&&x(a.resolve())!=f||u&&x(new u)!=p||i&&x(new i)!=d)&&(x=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?l(r):"";if(n)switch(n){case y:return v;case m:return s;case b:return f;case h:return p;case g:return d}return t}),e.exports=x},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},2689:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},3157:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},1789:(e,t,r)=>{var n=r(4536);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},1327:(e,t,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},1866:(e,t,r)=>{var n=r(4536);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},8517:(e,t,r)=>{var n=r(3118),o=r(5924),a=r(5726);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:n(o(e))}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},6612:(e,t,r)=>{var n=r(7813),o=r(8612),a=r(5776),u=r(3218);e.exports=function(e,t,r){if(!u(r))return!1;var i=typeof t;return!!("number"==i?o(r)&&a(t,r.length):"string"==i&&t in r)&&n(r[t],e)}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,r)=>{var n,o=r(4429),a=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!a&&a in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,r)=>{var n=r(8470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():o.call(t,r,1),--this.size,0))}},2117:(e,t,r)=>{var n=r(8470);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},7518:(e,t,r)=>{var n=r(8470);e.exports=function(e){return n(this.__data__,e)>-1}},4705:(e,t,r)=>{var n=r(8470);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},4785:(e,t,r)=>{var n=r(1989),o=r(8407),a=r(7071);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||o),string:new n}}},1285:(e,t,r)=>{var n=r(5050);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,r)=>{var n=r(5050);e.exports=function(e){return n(this,e).get(e)}},9916:(e,t,r)=>{var n=r(5050);e.exports=function(e){return n(this,e).has(e)}},5265:(e,t,r)=>{var n=r(5050);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},4536:(e,t,r)=>{var n=r(852)(Object,"create");e.exports=n},6916:(e,t,r)=>{var n=r(5569)(Object.keys,Object);e.exports=n},3498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},1167:(e,t,r)=>{e=r.nmd(e);var n=r(1957),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,u=a&&a.exports===o&&n.process,i=function(){try{return a&&a.require&&a.require("util").types||u&&u.binding&&u.binding("util")}catch(e){}}();e.exports=i},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},5357:(e,t,r)=>{var n=r(6874),o=Math.max;e.exports=function(e,t,r){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,u=-1,i=o(a.length-t,0),c=Array(i);++u<i;)c[u]=a[t+u];u=-1;for(var l=Array(t+1);++u<t;)l[u]=a[u];return l[t]=r(c),n(e,this,l)}}},5639:(e,t,r)=>{var n=r(1957),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();e.exports=a},6390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},61:(e,t,r)=>{var n=r(6560),o=r(1275)(n);e.exports=o},1275:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var o=t(),a=16-(o-n);if(n=o,a>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},7465:(e,t,r)=>{var n=r(8407);e.exports=function(){this.__data__=new n,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,r)=>{var n=r(8407),o=r(7071),a=r(3369);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var u=r.__data__;if(!o||u.length<199)return u.push([e,t]),this.size=++r.size,this;r=this.__data__=new a(u)}return r.set(e,t),this.size=r.size,this}},3140:(e,t,r)=>{var n=r(4286),o=r(2689),a=r(676);e.exports=function(e){return o(e)?a(e):n(e)}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},676:e=>{var t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",n="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+t+"|"+r+")?",i="[\\ufe0e\\ufe0f]?",c=i+u+"(?:\\u200d(?:"+[n,o,a].join("|")+")"+i+u+")*",l="(?:"+[n+t+"?",t,o,a,"[\\ud800-\\udfff]"].join("|")+")",s=RegExp(r+"(?="+r+")|"+l+c,"g");e.exports=function(e){return e.match(s)||[]}},2757:e=>{var t="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+n+"]",a="\\d+",u="["+t+"]",i="[^\\ud800-\\udfff"+n+a+"\\u2700-\\u27bf"+t+r+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",s="["+r+"]",f="(?:"+u+"|"+i+")",p="(?:"+s+"|"+i+")",d="(?:['’](?:d|ll|m|re|s|t|ve))?",v="(?:['’](?:D|LL|M|RE|S|T|VE))?",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",m="[\\ufe0e\\ufe0f]?",b=m+y+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",c,l].join("|")+")"+m+y+")*",h="(?:"+["[\\u2700-\\u27bf]",c,l].join("|")+")"+b,g=RegExp([s+"?"+u+"+"+d+"(?="+[o,s,"$"].join("|")+")",p+"+"+v+"(?="+[o,s+f,"$"].join("|")+")",s+"?"+f+"+"+d,s+"+"+v,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a,h].join("|"),"g");e.exports=function(e){return e.match(g)||[]}},5703:e=>{e.exports=function(e){return function(){return e}}},3816:(e,t,r)=>{var n=r(9389),o=r(9833),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,u=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=o(e))&&e.replace(a,n).replace(u,"")}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},6557:e=>{e.exports=function(e){return e}},5694:(e,t,r)=>{var n=r(9454),o=r(7005),a=Object.prototype,u=a.hasOwnProperty,i=a.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return o(e)&&u.call(e,"callee")&&!i.call(e,"callee")};e.exports=c},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,r)=>{var n=r(3560),o=r(1780);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},9246:(e,t,r)=>{var n=r(8612),o=r(7005);e.exports=function(e){return o(e)&&n(e)}},4144:(e,t,r)=>{e=r.nmd(e);var n=r(5639),o=r(5062),a=t&&!t.nodeType&&t,u=a&&e&&!e.nodeType&&e,i=u&&u.exports===a?n.Buffer:void 0,c=(i?i.isBuffer:void 0)||o;e.exports=c},8446:(e,t,r)=>{var n=r(939);e.exports=function(e,t){return n(e,t)}},3560:(e,t,r)=>{var n=r(4239),o=r(3218);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},8630:(e,t,r)=>{var n=r(4239),o=r(5924),a=r(7005),u=Function.prototype,i=Object.prototype,c=u.toString,l=i.hasOwnProperty,s=c.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=n(e))return!1;var t=o(e);if(null===t)return!0;var r=l.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==s}},3448:(e,t,r)=>{var n=r(4239),o=r(7005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},6719:(e,t,r)=>{var n=r(8749),o=r(1717),a=r(1167),u=a&&a.isTypedArray,i=u?o(u):n;e.exports=i},3674:(e,t,r)=>{var n=r(4636),o=r(280),a=r(8612);e.exports=function(e){return a(e)?n(e):o(e)}},1704:(e,t,r)=>{var n=r(4636),o=r(313),a=r(8612);e.exports=function(e){return a(e)?n(e,!0):o(e)}},3857:(e,t,r)=>{var n=r(2980),o=r(1463)((function(e,t,r){n(e,t,r)}));e.exports=o},8029:(e,t,r)=>{var n=r(5393),o=r(1700),a=n((function(e,t,r){return e+(r?" ":"")+o(t)}));e.exports=a},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},9881:(e,t,r)=>{var n=r(8363),o=r(1704);e.exports=function(e){return n(e,o(e))}},9833:(e,t,r)=>{var n=r(531);e.exports=function(e){return null==e?"":n(e)}},1700:(e,t,r)=>{var n=r(8805)("toUpperCase");e.exports=n},8748:(e,t,r)=>{var n=r(9029),o=r(3157),a=r(9833),u=r(2757);e.exports=function(e,t,r){return e=a(e),void 0===(t=r?void 0:t)?o(e)?u(e):n(e):e.match(t)||[]}},3909:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function u(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(u,i)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,n=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},u=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return u},i=this;Object.defineProperty(t,"__esModule",{value:!0});var c=r(9196),l=function(e){return"object"==typeof e&&"object"==typeof e.clipboard},s=new Error("NotAllowed"),f=function(){var e=document.createElement("textarea");return e.setAttribute("cols","0"),e.setAttribute("rows","0"),function(e){for(var t,r,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];try{for(var u=a(n),i=u.next();!i.done;i=u.next()){var c=i.value;e.style.setProperty(c,"0")}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}}(e,"border-width","bottom","margin-left","margin-top","outline-width","padding-bottom","padding-left","padding-right","padding-top","right"),e.style.setProperty("box-sizing","border-box"),e.style.setProperty("height","1px"),e.style.setProperty("margin-bottom","-1px"),e.style.setProperty("margin-right","-1px"),e.style.setProperty("max-height","1px"),e.style.setProperty("max-width","1px"),e.style.setProperty("min-height","1px"),e.style.setProperty("min-width","1px"),e.style.setProperty("outline-color","transparent"),e.style.setProperty("position","absolute"),e.style.setProperty("width","1px"),document.body.appendChild(e),e},p=function(e){e.parentNode.removeChild(e)},d=function(){var e=u(c.useState(""),2),t=e[0],r=e[1];c.useEffect((function(){if(l(navigator)){var e=function(e){var n,o=e.clipboardData||(function(e){return Object.prototype.hasOwnProperty.call(e,"clipboardData")}(n=window)?n.clipboardData:null)||null;if(o){var a=o.getData("text/plain");t!==a&&r(a)}};return navigator.clipboard.addEventListener("copy",e),navigator.clipboard.addEventListener("cut",e),function(){l(navigator)&&(navigator.clipboard.removeEventListener("copy",e),navigator.clipboard.removeEventListener("cut",e))}}var n=function(){try{var e=document.getSelection();e&&r(e.toString())}catch(e){}};return document.addEventListener("copy",n),document.addEventListener("cut",n),function(){document.removeEventListener("copy",n),document.removeEventListener("cut",n)}}),[t]);var a=c.useCallback((function(e){return n(i,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return t.trys.push([0,1,,6]),function(e){var t=f();t.value=e,t.select();var r=document.execCommand("copy");if(p(t),!r)throw s}(e),r(e),[3,6];case 1:if(t.sent(),!l(navigator))return[3,5];t.label=2;case 2:return t.trys.push([2,4,,5]),[4,navigator.clipboard.writeText(e)];case 3:return t.sent(),r(e),[3,5];case 4:return t.sent(),[3,5];case 5:return[3,6];case 6:return[2]}}))}))}),[]);return c.useLayoutEffect((function(){try{var e=function(){var e=f();if(e.focus(),!document.execCommand("paste"))throw p(e),s;var t=e.value;return p(e),t}();t!==e&&r(e)}catch(e){l(navigator)&&n(i,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,navigator.clipboard.readText()];case 1:return e=n.sent(),t!==e&&r(e),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))}}),[t]),[t,a]};t.default=d,e.exports=d,e.exports.default=d},9470:t=>{"use strict";t.exports=e},4166:e=>{"use strict";e.exports=t},4076:e=>{"use strict";e.exports=r},9196:e=>{"use strict";e.exports=window.React}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={id:e,loaded:!1,exports:{}};return n[e].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var u={};return(()=>{"use strict";a.r(u),a.d(u,{render:()=>he});const e=window.wp.element;var t=a(9196),r=a.n(t),n=a(4076),o=a(4166);function i(e,t,r,n,o,a,u){try{var i=e[a](u),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,c,"next",e)}function c(e){i(a,n,o,u,c,"throw",e)}u(void 0)}))}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],u=!0,i=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);u=!0);}catch(e){i=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(i)throw o}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const p=window.regeneratorRuntime;var d=a.n(p);function v(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(r){var o=r.value,a=void 0===o?"":o,u=r.onChange,i=void 0===u?function(){}:u,c=r.style,l=void 0===c?{}:c,s=r.readOnly,f=void 0!==s&&s,p=(0,t.useCallback)((function(e){var t=e.target.value;i(t)}),[i]),d=(0,t.useCallback)((function(e){if(!f){var t=e.target,r=e.keyCode,n=e.shiftKey,o=t.selectionStart,a=t.selectionEnd,u=t.value,c="  ";if(9===r){if(n){var l=u.substr(0,o).split("\n"),s=u.substr(o),p=l.length-1,d=l[p],v=0;d.endsWith(c)?(l[p]=d.substr(0,d.length-c.length),v=-c.length):d.startsWith(c)&&(l[p]=d.substr(c.length),v=-c.length),t.value=l.join("\n")+s,t.selectionStart=o+v,t.selectionEnd=a+v,i(t.value)}else t.value=u.substr(0,o)+c+u.substr(o),t.selectionStart=o+c.length,t.selectionEnd=a+c.length,i(t.value);e.preventDefault()}else if(13===r){var y=u.substr(0,o),m=u.substr(o),b=y.split("\n"),h=b[b.length-1].trimRight(),g=((h||b[b.length-1]).length-h.trimLeft().length)/c.length>>0,x=h.length?h[h.length-1]:"",E="\n"+c.repeat(g+(x&&["{","["].indexOf(x)>=0?1:0));t.value=y+E+m,t.selectionStart=o+E.length,t.selectionEnd=a+E.length,i(t.value),e.preventDefault()}}}),[i]);return(0,e.createElement)(n.Textarea,{style:h({height:"20em",fontFamily:"monospace",fontSize:"11px"},l),className:r.className,value:a,onKeyDown:d,onChange:p,readOnly:f})}g.displayName="TextEditor";var x=a(9470),E=n.Utils.usePrevious;function w(r){var a=r.value,u=r.onFetching,i=r.onError,c=r.onChange,l=r.isMulti,s=r.type,p=void 0===s?"metadata":s,d=r.dataKey,v=void 0===d?"tableName":d,y=r.dataLabel,m=void 0===y?"name":y,b=f((0,t.useState)([]),2),h=b[0],g=b[1],w=(0,t.useRef)({updateMetadata:function(e,t){if(t)i(t.message);else{var r=e.rows;g(r)}},watcher:new o.Watcher(p)}).current;(0,t.useEffect)((function(){return u(!0),w.watcher.subscribe({filter:{order:[x.query.orderBy(m)]}},w.updateMetadata).catch((function(e){i(e.message)})).finally((function(){u(!1)})),function(){w.watcher.unsubscribe()}}),[]);var O=E(h),j=(0,t.useMemo)((function(){return Array.isArray(a)?a:a?[a]:[]}),[a]);if(O!==h&&j.length){var S=j.filter((function(e){return h.find((function(t){return t[v]===e}))}));if(S.length!==j.length){var _=!l||S.length<2,C=S[0];c(_?C:S,_?h.find((function(e){return e[v]===C})):h.filter((function(e){return S.indexOf(e[v])>=0})))}}var k=(0,t.useCallback)((function(e){var t=e?(l?e:[e]).map((function(e){return e.value})):[],r=!l||t.length<2,n=t[0];c(r?n:t,r?h.find((function(e){return e[v]===n})):h.filter((function(e){return t.indexOf(e[v])>=0})))}),[c,l,h]),N=(0,t.useMemo)((function(){return h.map((function(e){return{value:e[v],label:e[m]}}))}),[h]),A=(0,t.useMemo)((function(){var e=N.filter((function(e){var t=e.value;return j.find((function(e){return e===t}))}));return l?e:e[0]||""}),[N,j,l]);return(0,e.createElement)(o.Layout,{type:"relative",style:{width:"15em"}},(0,e.createElement)(n.Select,{options:N,value:A,onChange:k,isMulti:l}))}w.displayName="SelectMetadata";var O=a(4184),j=a.n(O);function S(r){var a=r.onChange,u=void 0===a?function(){}:a,i=r.active,c=(0,t.useCallback)((function(e){u(!i)}),[u,i]);return(0,e.createElement)(t.Fragment,null,(0,e.createElement)(o.Layout,{type:"relative",className:j()("fortressdb-toolbar-button",r.disabled&&"disabled",r.active&&"active"),onClick:c,title:r.title},(0,e.createElement)(n.Icon,{icon:r.icon})))}S.displayName="ToolbarButton";var _=[{value:"ASC",label:"ASC"},{value:"DESC",label:"DESC"}];function C(t){var r=t.index,a=void 0===r?-1:r,u=t.column,i=t.direction,c=void 0===i?"ASC":i,l=t.options,s=t.onChange,f=void 0===s?function(){}:s,p=l.find((function(e){return e.value===u}))||(u?{value:u,label:u}:""),d=_.find((function(e){return e.value===c}))||{value:c,label:c};return(0,e.createElement)(o.Layout,{type:"row",className:"fortressdb-menu-item-order"},(0,e.createElement)(n.Select,{className:"fortressdb-menu-item-order-column",options:l,value:p,onChange:function(e){var t=e.value;f({column:t,direction:d.value},a)}}),(0,e.createElement)(n.Select,{className:"fortressdb-menu-item-order-direction",options:_,value:d,onChange:function(e){var t=e.value;f({column:p.value,direction:t},a)},isDisabled:!u}),(0,e.createElement)(o.Layout,{type:"col align vertical",className:j()("fortressdb-menu-item-order-remove",!u&&"disabled"),onClick:function(){f(null,a)}},(0,e.createElement)(n.Icon,{icon:"delete"})))}function k(t){var r=t.title,a=void 0===r?"Limit":r,u=t.value,i=t.onChange,c=void 0===i?function(){}:i;return(0,e.createElement)(o.Layout,{type:"row align vertical",className:"fortressdb-menu-item-pagination"},(0,e.createElement)(n.Input,{type:"checkbox",checked:void 0!==u,onChange:function(e){var t=e.target.checked;return c(t?0:void 0)}}),(0,e.createElement)(o.Layout,null,a),(0,e.createElement)(n.Input,{type:"number",value:u||0,onChange:function(e){var t=e.target.valueAsNumber;return c(t)},disabled:void 0===u,min:0}))}C.displayName="MenuItemOrder",k.displayName="MenuItemPagination";var N=[{value:"="},{value:"!="},{value:">"},{value:">="},{value:"<"},{value:"<="},{value:"like",type:"text"}],A=N.map((function(e){var t=e.value;return{value:t,label:t}}));function L(e,t){if(void 0===e)return e;switch(t){case"text":return"string"==typeof e?e:String(e);case"number":var r="number"==typeof e?e:+e;return isNaN(r)?"":r}return e}function P(t){var r=t.index,a=void 0===r?-1:r,u=t.type,i=void 0===u?"text":u,c=t.value,l=void 0===c?"":c,s=t.column,f=t.operator,p=void 0===f?"":f,d=t.options,v=t.onChange,y=void 0===v?function(){}:v,m=d.find((function(e){return e.value===s}))||(s?{value:s,label:s}:""),b=A.find((function(e){return e.value===p}))||(p?{value:p,label:p}:""),h=(N.find((function(e){return e.value===p}))||{}).type||i;return(0,e.createElement)(o.Layout,{type:"row",className:"fortressdb-menu-item-where"},(0,e.createElement)(n.Select,{className:"fortressdb-menu-item-where-column",options:d,value:m,onChange:function(e){var t=e.value;y({column:t,operator:p,value:l},a)}}),(0,e.createElement)(n.Select,{className:"fortressdb-menu-item-where-operator",options:A,value:b,onChange:function(e){var t=e.value,r=(N.find((function(e){return e.value===t}))||{}).type||i;y({column:s,operator:t,value:L(l,r)},a)},isDisabled:!s}),(0,e.createElement)(n.Input,{type:h,value:l,onChange:function(e){var t=e.target.value;y({column:s,operator:p,value:L(t,h)},a)},disabled:!s}),(0,e.createElement)(o.Layout,{type:"col align vertical",className:j()("fortressdb-menu-item-where-remove",!s&&"disabled"),onClick:function(){y(null,a)}},(0,e.createElement)(n.Icon,{icon:"delete"})))}function I(t){var r=t.index,a=void 0===r?-1:r,u=t.column,i=t.options,c=t.onChange,l=void 0===c?function(){}:c,s=i.find((function(e){return e.value===u}))||(u?{value:u,label:u}:"");return(0,e.createElement)(o.Layout,{type:"row",className:"fortressdb-menu-item-group"},(0,e.createElement)(n.Select,{className:"fortressdb-menu-item-group-column",options:i,value:s,onChange:function(e){var t=e.value;l(t,a)}}),(0,e.createElement)(o.Layout,{type:"col align vertical",className:j()("fortressdb-menu-item-group-remove",!u&&"disabled"),onClick:function(){l(null,a)}},(0,e.createElement)(n.Icon,{icon:"delete"})))}P.displayName="MenuItemWhere",I.displayName="MenuItemGroup";var T=[{value:"sum",label:"Sum"},{value:"avg",label:"Avg"},{value:"max",label:"Max"},{value:"min",label:"Min"},{value:"count",label:"Count"}];function D(t){var r=t.index,a=void 0===r?-1:r,u=t.column,i=t.func,c=void 0===i?"":i,l=t.options,s=t.onChange,f=void 0===s?function(){}:s,p=l.find((function(e){return e.value===u}))||(u?{value:u,label:u}:""),d=T.find((function(e){return e.value===c}))||(c?{value:c,label:c}:"");return(0,e.createElement)(o.Layout,{type:"row",className:"fortressdb-menu-item-func"},(0,e.createElement)(n.Select,{className:"fortressdb-menu-item-func-column",options:l,value:p,onChange:function(e){var t=e.value;f({column:t,func:c},a)}}),(0,e.createElement)(n.Select,{className:"fortressdb-menu-item-func-func",options:T,value:d,onChange:function(e){var t=e.value;f({column:u,func:t},a)},isDisabled:!u}),(0,e.createElement)(o.Layout,{type:"col align vertical",className:j()("fortressdb-menu-item-func-remove",!u&&"disabled"),onClick:function(){f(null,a)}},(0,e.createElement)(n.Icon,{icon:"delete"})))}D.displayName="MenuItemFunc";var M=a(8029),q=a.n(M);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(t,r){var n=r.index,a=r.caption,u=r.onChange,i=r.disabled,c=void 0!==i&&i,l=r.value,s=r.options?r.options.map((function(e){return"string"==typeof e?{value:e,label:e}:e})):void 0;return(0,e.createElement)(o.Layout,{type:"row align vertical",key:n,style:{marginBottom:"0.25em"}},(0,e.createElement)(o.Layout,{type:"row align vertical",style:{minWidth:"7em"}},a),(0,e.createElement)(o.Layout,{type:"row align vertical",style:{minWidth:"17em"}},(0,e.createElement)(o.TypeControl,{disabled:c,className:"fortressdb-control",field:{type:s?"select":t,value:l},options:s,changeValue:function(e){u(e,n)}})))}function J(r){var a=r.index,u=void 0===a?-1:a,i=r.caption,c=r.descriptor,l=void 0===c?{}:c,s=r.value,p=r.onChange,d=void 0===p?function(){}:p,b=r.removable,h=void 0!==b&&b,g=f((0,t.useState)(void 0!==r.expand&&r.expand),2),x=g[0],E=g[1],w=f((0,t.useState)({}),2),O=w[0],j=w[1];return(0,e.createElement)(o.Layout,{type:"col",className:"fortressdb-menu-item-values"},-1===u?(0,e.createElement)(o.Layout,{type:"content",className:"fortressdb-menu-item-values-button",onClick:function(){d(s||{},u)}},(0,e.createElement)(n.Icon,{icon:"add"})):(0,e.createElement)(t.Fragment,null,(0,e.createElement)(o.Layout,{type:"row align vertical"},(0,e.createElement)(o.Layout,{type:"row align vertical",style:{cursor:"pointer"},onClick:function(){E(!x),j({})}},i&&(0,e.createElement)(o.Layout,{style:{fontWeight:"bold"}},i),(0,e.createElement)(n.Icon,{icon:x?"expand-less":"expand-more"})),h&&(0,e.createElement)(o.Layout,{type:"col align vertical",className:"fortressdb-menu-item-values-button",onClick:function(){d(null,u)}},(0,e.createElement)(n.Icon,{icon:"delete"}))),x&&(0,e.createElement)(o.Layout,{type:"col",key:u,style:{paddingLeft:"1em"}},Object.keys(l).map((function(r,n){var a=l[r],i=function(e){d(z(z({},s||{}),{},m({},r,e)),u)};switch(y(a)){case"string":return U(a,{caption:q()(r),value:s[r],onChange:i,index:n});case"object":var c=a.type,f=a.caption||q()(r);switch(y(c)){case"string":if("array"===c){var p=s[r]||[],b=a.children,h=function(e,t){var n=v(p);t>=0?e?n.splice(t,1,e):n.splice(t,1):e&&(j(z(z({},O),{},m({},r,n.length))),n.push(e)),d(z(z({},s||{}),{},m({},r,n)),u)};return(0,e.createElement)(t.Fragment,{key:n},(0,e.createElement)(o.Layout,{style:{fontWeight:"bold"}},"".concat(f," [...]")),(0,e.createElement)(o.Layout,{type:"col",style:{paddingLeft:"1em"}},p.map((function(t,n){return(0,e.createElement)(J,{key:n,caption:"".concat(n," {...}"),index:n,value:t,descriptor:b,onChange:h,removable:!0,expand:O[r]===n})})),(0,e.createElement)(J,{onChange:h})))}if("object"===c){var g=s[r]||{},x=a.children;return(0,e.createElement)(t.Fragment,{key:n},(0,e.createElement)(J,{caption:"".concat(f," {...}"),index:n,value:g,descriptor:x,onChange:i,expand:!0}))}return U(c,{caption:f,value:s[r],options:a.options,onChange:i,index:n});case"object":var E=c.dependOn,w=c.enabledFor,S=s[E]||"";return U(S,{caption:f,value:s[r],options:a.options,onChange:i,disabled:w&&w.indexOf(S)<0,index:n})}}return!1})))))}U.displayName="getControlByType",J.displayName="MenuItemValues";var R=r().useState,B=r().useCallback;function W(t){var r=t.onChange,a=void 0===r?function(){}:r,u=f(R(""),2),i=u[0],l=u[1],s=B((function(e){var t=e.target.value;l(t)}),[]),p=B(c(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(+i);case 2:l("");case 3:case"end":return e.stop()}}),e)}))),[a,i]),v=B((function(e){13===e.keyCode&&p()}),[p]);return(0,e.createElement)(o.Layout,{type:"row align vertical",className:"fortressdb-menu-item-search"},(0,e.createElement)(o.Layout,null,"Find by ID"),(0,e.createElement)(n.Input,{type:"number",autoFocus:!0,value:i,onChange:s,className:"fortressdb-menu-item-search-input",onKeyDown:v}),(0,e.createElement)(o.Layout,{type:"content",className:"fortressdb-menu-item-search-button",onClick:p},(0,e.createElement)(n.Icon,{icon:"search"})))}function G(e){e.stopPropagation()}function V(t){return t.showMenu?(0,e.createElement)(o.Layout,{type:"col",className:"fortressdb-toolbar-menu",onClick:G},(0,e.createElement)(o.Layout,null,t.title),(0,e.createElement)(o.Layout,{type:"col"},t.children)):null}W.displayName="MenuItemSearch",V.displayName="ContextMenu";var Z=a(8446),$=a.n(Z),Q=a(3857),K=a.n(Q),H=a(3909),Y=a.n(H);function X(e){throw new TypeError('"'+e+'" is read-only')}var ee="curl",te="-H";function re(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=t+r;a.endsWith("//")&&(a.slice(0,-1),X("url")),"auth/subscribe"===r&&(n.data=[{permissions:{isAdmin:!0,tables:{}},userId:"<WP_USER_ID>"}],n.context={locale:"<LOCALE>"});var u=Object.keys(n).length&&!o.useQueryParams?"".concat("-d"," '").concat(JSON.stringify(n),"'"):"",i="".concat(te,' "Accept-Language:en-US,en;q=0.9" ')+"".concat(te,' "Content-Type:application/json" ');i+="auth/subscribe"===r?"".concat(te,' "Authorization:Bearer <PLUGIN_TOKEN>"'):o.authToken?"".concat(te,' "Authorization:Bearer ').concat(o.authToken,'"'):"";var c=o.useQueryParams&&"GET"===e.toUpperCase()?Object.keys(n||{}).reduce((function(e,t){return e+t+"="+n[t]}),""):"";return"".concat(ee," ").concat("-X"," ").concat(e.toUpperCase()," ").concat(i," ").concat(u," ").concat(a+(c.length?"?":"")+c)}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae=["integer","float"];function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return oe({menu:"",order:[],pagination:{},calculation:{group:[],func:[]},where:[],columns:[],edit:{},update:{data:[],expand:-1},queryString:"",sendedQuery:""},e)}function ie(e,t){var r=t.type,n=t.payload;switch(r){case"menu":var o=n.name,a=n.active;return a||e.menu===o?oe(oe({},e),{},{menu:a?o:""}):e;case"columns":return oe(oe({},e),{},{columns:n});case"where":return oe(oe({},e),{},{where:n});case"pagination":return oe(oe({},e),{},{pagination:oe(oe({},e.pagination),n)});case"calculation":return oe(oe({},e),{},{calculation:oe(oe({},e.calculation),n)});case"edit":return oe(oe({},e),{},{edit:n});case"update":var u=n.data,i=n.expand;return oe(oe({},e),{},{update:{data:void 0!==u?u:e.update.data,expand:void 0!==i?i:e.update.data.length<(u||[]).length?u.length-1:-1}});case"queryString":return oe(oe({},e),{},{queryString:n});case"sendedQuery":return oe(oe({},e),{},{sendedQuery:n});case"order":return oe(oe({},e),{},{order:n});case"reset":return ue(n)}return e}function ce(e){var t=((e||{}).filter||{}).where;return(t?"and"===t.operator?t.args:[t]:[]).filter((function(e){return e&&"object"===y(e)})).filter((function(e){var t=e.operator,r=e.args;return"string"==typeof t&&r&&2===r.length&&r.every((function(e){return"object"!==y(e)}))})).map((function(e){var t=e.operator,r=e.args;return{operator:t,column:r[0],value:r[1]}}))}function le(e){var t=e.column;return{func:e.func,args:void 0===t?[]:[t],alias:t||""}}function se(r){var u=r.endpoints,i=r.onSend,l=f((0,t.useReducer)(ie,void 0,ue),2),s=l[0],p=l[1],b=f((0,t.useState)(!1),2),h=b[0],x=b[1],E=f((0,t.useState)(null),2),O=E[0],_=E[1],N=f((0,t.useState)(null),2),A=N[0],L=N[1],T=u.map((function(e){var t=e.name;return{value:t,label:t}})),M=u.find((function(e){return e.name===A})),q=A?M.methods.map((function(e){return{value:e,label:e}})):[],F=f((0,t.useState)(null),2),z=F[0],U=F[1],R=f((0,t.useState)(""),2),B=R[0],G=R[1],Z=f((0,t.useState)(""),2),Q=Z[0],H=Z[1],X=f((0,t.useState)(0),2),ee=X[0],te=X[1],ne=s.order,se=s.where,fe=s.pagination,pe=s.calculation,de=s.edit,ve=s.update,ye=s.queryString,me=s.sendedQuery,be=f((0,t.useState)(""),2),he=be[0],ge=be[1],xe=(0,t.useCallback)((function(e,t,r,n){var o=re(t,a.g.fortressdbBackendUrl,e,r,{authToken:n});ge(o)}),[A,z,ye]),Ee=(0,t.useCallback)(c(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),_(null),G(""),Fe(),e.prev=4,e.next=7,i(A,z,ye?JSON.parse(ye):void 0,xe);case 7:t=e.sent,G(JSON.stringify(t,null,2)),p({type:"sendedQuery",payload:ye}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),_(e.t0.message);case 15:x(!1);case 16:case"end":return e.stop()}}),e,null,[[4,12]])}))),[A,z,ye]),we=f(Y()(),2),Oe=(we[0],we[1]),je=(0,t.useCallback)(c(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Oe(he);case 1:case"end":return e.stop()}}),e)}))),[he]),Se=(0,t.useCallback)((function(e){p({type:"queryString",payload:e});try{var t=e?JSON.parse(e):{},r=((t||{}).context||{}).tableName||"";r!==Q&&H(r);var n=((t||{}).context||{}).enumId||0;n!==ee&&te(n);var o=function(e){return((e.filter||{}).order||[]).filter((function(e){return e&&"object"===y(e)&&"string"==typeof e.column})).map((function(e){return{column:e.column,direction:e.direction}}))}(t);$()(o,ne)||p({type:"order",payload:o});var a=(t.filter||{}).limit;a!==fe.limit&&p({type:"pagination",payload:{limit:a}});var u=(t.filter||{}).offset;u!==fe.offset&&p({type:"pagination",payload:{offset:u}});var i=ce(t);$()(i,se)||p({type:"where",payload:i});var c=function(e){return(((e||{}).filter||{}).group||[]).filter((function(e){return"string"==typeof e}))}(t);$()(c,pe.group)||p({type:"calculation",payload:{group:c}});var l=function(e){return(((e||{}).filter||{}).attributes||[]).filter((function(e){return e&&"object"===y(e)})).filter((function(e){var t=e.func,r=e.args;return"string"==typeof t&&r&&r.length<2&&r.every((function(e){return"string"==typeof e}))})).map((function(e){return{func:e.func,column:e.args[0]}}))}(t);$()(l,pe.func)||p({type:"calculation",payload:{func:l}});var s=t.data||[];$()(s,ve.data)||p({type:"update",payload:{data:s}})}catch(e){}}),[Q,ee,ne,fe,se,pe,ve.data]),_e=(0,t.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(M&&!M.columns)if(t){var r=Array.isArray(t)?t[0].fields.filter((function(e){return e.extend.isSystem})):v(t.fields);r.sort((function(e,t){return e.extend.order-t.extend.order}));var n=r.map((function(e){return{value:e.name,label:e.extend.caption+(e.extend.isSystem?"":" [".concat(e.name,"]")),type:ae.indexOf(e.type)>=0?"number":"text"}}));p({type:"columns",payload:n})}else p({type:"columns",payload:[]});if(M&&!M.edit)if(t){var o=(Array.isArray(t)?t[0]:t).fields.filter((function(e){return!e.extend.isSystem}));o.sort((function(e,t){return e.extend.order-t.extend.order}));var a=o.reduce((function(e,t){return e[t.name]={caption:t.extend.caption,type:t.type},e}),{});p({type:"edit",payload:a})}else p({type:"edit",payload:{}});H(e);try{var u=ye?JSON.parse(ye):{};((u||{}).context||{}).tableName!==e&&(u.context=u.context||{},u.context.tableName=e,p({type:"queryString",payload:JSON.stringify(u,null,2)}))}catch(e){}}),[M,ye]),Ce=(0,t.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;te(e);try{var t=ye?JSON.parse(ye):{};((t||{}).context||{}).enumId!==e&&(t.context=t.context||{},t.context.enumId=e,p({type:"queryString",payload:JSON.stringify(t,null,2)}))}catch(e){}}),[ye]),ke=(0,t.useCallback)((function(e,t){var r=v(ne);t>=0?e&&e.column?r.splice(t,1,e):r.splice(t,1):e&&e.column&&r.push(e),p({type:"order",payload:r});try{var n=ye?JSON.parse(ye):{},o=n.filter||(n.filter={});o.order=[].concat(v(r),v((o.order||[]).filter((function(e){return"object"!==y(e)||!ne.find((function(t){return $()(t,e)}))})))),o.order.length||(delete o.order,Object.keys(o).length||delete n.filter),p({type:"queryString",payload:JSON.stringify(n,null,2)})}catch(e){}}),[ne,ye]),Ne=(0,t.useCallback)((function(e,t){var r=v(se);t>=0?e&&e.column?r.splice(t,1,e):r.splice(t,1):e&&e.column&&r.push(e),p({type:"where",payload:r});try{var n=ye?JSON.parse(ye):{},o=ce(n);if(!$()(o,r)){var a=n.filter||(n.filter={});if(r.length)if(1===r.length){var u=r[0],i=u.value,c=u.column,l=u.operator;a.where={operator:l,args:[c,i]}}else a.where={operator:"and",args:r.map((function(e){var t=e.value,r=e.column;return{operator:e.operator,args:[r,t]}}))};else delete a.where,Object.keys(a).length||delete n.filter;p({type:"queryString",payload:JSON.stringify(n,null,2)})}}catch(e){}}),[se,ye]),Ae=(0,t.useCallback)((function(e,t){var r=v(pe.group);t>=0?e?r.splice(t,1,e):r.splice(t,1):e&&r.push(e),p({type:"calculation",payload:{group:r}});try{var n=ye?JSON.parse(ye):{},o=pe.group,a=n.filter||(n.filter={});a.group=[].concat(v(r),v((a.group||[]).filter((function(e){return"string"!=typeof e||o.indexOf(e)<0})))),a.attributes=[].concat(v(r),v((a.attributes||[]).filter((function(e){return"string"!=typeof e||o.indexOf(e)<0})))),a.group.length||delete a.group,a.attributes.length||delete a.attributes,Object.keys(a).length||delete n.filter,p({type:"queryString",payload:JSON.stringify(n,null,2)})}catch(e){}}),[pe.group,ye]),Le=(0,t.useCallback)((function(e,t){var r=v(pe.func);t>=0?e?r.splice(t,1,e):r.splice(t,1):e&&r.push(e),p({type:"calculation",payload:{func:r}});try{var n=ye?JSON.parse(ye):{},o=pe.func,a=n.filter||(n.filter={});a.attributes=[].concat(v((a.attributes||[]).filter((function(e){return"object"!==y(e)||!o.find((function(t){return $()(t,function(e){var t=e.func,r=e.args;return"string"==typeof t&&r&&r.length<2?{func:t,column:r[0]}:void 0}(e))}))}))),v(r.map(le))),a.attributes.length||delete a.attributes,Object.keys(a).length||delete n.filter,p({type:"queryString",payload:JSON.stringify(n,null,2)})}catch(e){}}),[pe.func,ye]),Pe=(0,t.useCallback)((function(e,t){p({type:"pagination",payload:m({},e,t)});try{var r=ye?JSON.parse(ye):{};if(((r||{}).filter||{})[e]!==t){var n=r.filter||(r.filter={});void 0===t?(delete n[e],Object.keys(n).length||delete r.filter):n[e]=t,p({type:"queryString",payload:JSON.stringify(r,null,2)})}}catch(e){}}),[ye]),Ie=(0,t.useCallback)((function(e){Pe("limit",e)}),[Pe]),Te=(0,t.useCallback)((function(e){Pe("offset",e)}),[Pe]),De=(0,t.useCallback)((function(e,t){var r=v(ve.data);t>=0?e?r.splice(t,1,e):r.splice(t,1):e&&r.push(e),p({type:"update",payload:{data:r}});try{var n=ye?JSON.parse(ye):{};n.data=r,p({type:"queryString",payload:JSON.stringify(n,null,2)})}catch(e){}}),[ve.data,ye]),Me=(0,t.useCallback)(function(){var e=c(d().mark((function e(t){var r,n,o,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(de&&"number"==typeof t&&!isNaN(t)){e.next=2;break}return e.abrupt("return");case 2:return x(!0),_(null),e.prev=4,r=ye?JSON.parse(ye):{},n=r.context,e.next=8,i(A,"get",oe(oe({},n?{context:n}:{}),{},{filter:{where:{operator:"=",args:["id",t]}}}),xe);case 8:(((o=e.sent)||{}).rows||[]).length?(a=o.rows[0],"metadata"===A&&(a=["id"].concat(v(Object.keys(de))).reduce((function(e,t){if("fields"===t){var r=["id","name"].concat(v(Object.keys(de.fields.children||{}))),n=Object.keys(((de.fields.children||{}).extend||{}).children||{});e[t]=a[t].filter((function(e){return!e.extend.isSystem})).map((function(e){return r.reduce((function(t,r){return t[r]="extend"===r?n.reduce((function(t,n){return t[n]=e[r][n],t}),{}):e[r],t}),{})}))}else e[t]=a[t];return e}),{})),De(a,-1)):_("Object with id = ".concat(t," is not found")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),_(e.t0.message);case 15:x(!1);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),[A,z,ye,De,de]),qe=ye!==me,Fe=(0,t.useCallback)((function(){ge("")}),[]);return(0,e.createElement)(t.Fragment,null,(0,e.createElement)(o.Layout,{type:"row"},(0,e.createElement)(o.Layout,{type:"row",style:{marginRight:"1.5em"}},(0,e.createElement)(o.Layout,{type:"row align vertical",style:{marginRight:"0.5em"}},"Endpoint:"),(0,e.createElement)(o.Layout,{style:{width:"12em"}},(0,e.createElement)(n.Select,{options:T,value:T.find((function(e){return e.value===A})),onChange:function(e){var t=e.value,r=u.find((function(e){return e.name===t}));L(t),U(r.methods[0]),H(""),G(""),Fe();var n=(r.query||{}).filter||{},o=n.limit,a=n.offset;p({type:"reset",payload:{pagination:{limit:o,offset:a},columns:r.columns||[],edit:r.edit||{},queryString:r.query?JSON.stringify(r.query,null,2):""}})}}))),(0,e.createElement)(o.Layout,{type:"row"},(0,e.createElement)(o.Layout,{type:"row align vertical",style:{marginRight:"0.5em"}},"Method:"),(0,e.createElement)(o.Layout,null,(0,e.createElement)(n.Select,{options:q,value:q.find((function(e){return e.value===z}))||"",onChange:function(e){var t=e.value;if(U(t),G(""),Fe(),p({type:"menu",payload:{name:s.menu,active:!1}}),M.query)if("get"===t){var r={};try{delete(r=JSON.parse(s.queryString)||{}).data}catch(e){}p({type:"reset",payload:{pagination:s.pagination,columns:s.columns,edit:s.edit,where:s.where,queryString:JSON.stringify(K()({},M.query,r),null,2)}})}else if("delete"===t){var n={};try{n=JSON.parse(s.queryString)}catch(e){}var o=M.query;p({type:"reset",payload:{pagination:s.pagination,columns:s.columns,edit:s.edit,where:s.where,queryString:JSON.stringify(oe(oe({},o.context?{context:oe(oe({},o.context),n.context||{})}:{}),{},{filter:{where:(n.filter||{}).where||{}}}),null,2)}})}else if("post"===t||"put"===t){var a={};try{a=JSON.parse(s.queryString)}catch(e){}var u=M.query;p({type:"reset",payload:{pagination:s.pagination,columns:s.columns,edit:s.edit,queryString:JSON.stringify(oe(oe({},u.context?{context:oe(oe({},u.context),a.context||{})}:{}),{},{data:[]}),null,2)}})}}})))),M&&M.context&&(0,e.createElement)(o.Layout,{type:"col",style:{marginTop:"1em"}},(0,e.createElement)(o.Layout,null,"Context"),(0,e.createElement)(o.Layout,{style:{borderWidth:"1px",borderStyle:"solid",borderColor:"#bbbbbb",borderRadius:"0.5em",padding:"8px"}},M.context.map((function(r){var n=r.key,a=r.isMulti,u=void 0!==a&&a;return(0,e.createElement)(o.Layout,{key:n,type:"row"},"tableName"===n?(0,e.createElement)(t.Fragment,null,(0,e.createElement)(o.Layout,{type:"row align vertical",style:{marginRight:"0.5em"}},"Table:"),(0,e.createElement)(w,{value:Q,onChange:_e,onFetching:x,onError:_,isMulti:u})):"enumId"===n?(0,e.createElement)(t.Fragment,null,(0,e.createElement)(o.Layout,{type:"row align vertical",style:{marginRight:"0.5em"}},"Selection Field:"),(0,e.createElement)(w,{type:"enums",dataKey:"id",value:ee,onChange:Ce,onFetching:x,onError:_,isMulti:u})):null)})))),M&&M.query&&(0,e.createElement)(o.Layout,{type:"col",style:{marginTop:"1em"}},(0,e.createElement)(o.Layout,{type:"row"},"Query",(0,e.createElement)(o.Layout,{style:{color:"red",fontSize:"0.8em"}},qe?"*":"")),(0,e.createElement)(g,{value:ye,onChange:Se}),(0,e.createElement)(o.Layout,{type:"row"},"get"===z&&(0,e.createElement)(t.Fragment,null,(0,e.createElement)(S,{icon:"sort",title:"Order",active:"order"===s.menu,onChange:function(e){p({type:"menu",payload:{name:"order",active:e}})}}),(0,e.createElement)(S,{icon:"filter",title:"Filter",active:"filter"===s.menu,onChange:function(e){p({type:"menu",payload:{name:"filter",active:e}})}}),(0,e.createElement)(S,{icon:"page-search",title:"Pagination",active:"pagination"===s.menu,onChange:function(e){p({type:"menu",payload:{name:"pagination",active:e}})}}),(0,e.createElement)(S,{icon:"calculate",title:"Calculation",active:"calculation"===s.menu,onChange:function(e){p({type:"menu",payload:{name:"calculation",active:e}})}})),"delete"===z&&(0,e.createElement)(S,{icon:"filter",title:"Filter",active:"filter"===s.menu,onChange:function(e){p({type:"menu",payload:{name:"filter",active:e}})}}),("post"===z||"put"===z)&&(0,e.createElement)(S,{icon:"values",title:"Values",active:"values"===s.menu,onChange:function(e){p({type:"menu",payload:{name:"values",active:e}}),p({type:"update",payload:{expand:-1}})}})),(0,e.createElement)(o.Layout,{type:"col"},(0,e.createElement)(V,{title:"Order",showMenu:"order"===s.menu},ne.map((function(t,r){var n=t.column,o=t.direction;return(0,e.createElement)(C,{key:r,index:r,column:n,direction:o,options:s.columns.filter((function(e){var t=e.value;return t===n||ne.findIndex((function(e){return e.column===t}))<0})),onChange:ke})})),ne.length<s.columns.length&&(0,e.createElement)(C,{options:s.columns.filter((function(e){var t=e.value;return ne.findIndex((function(e){return e.column===t}))<0})),onChange:ke})),(0,e.createElement)(V,{title:"Filter",showMenu:"filter"===s.menu},se.map((function(t,r){var n=t.column,o=t.operator,a=t.value;return(0,e.createElement)(P,{key:r,index:r,column:n,type:(s.columns.find((function(e){return e.value===n}))||{}).type,operator:o,value:a,options:s.columns,onChange:Ne})})),(0,e.createElement)(P,{options:s.columns,onChange:Ne})),(0,e.createElement)(V,{title:"Pagination",showMenu:"pagination"===s.menu},(0,e.createElement)(k,{title:"Limit",value:fe.limit,onChange:Ie}),(0,e.createElement)(k,{title:"Offset",value:fe.offset,onChange:Te})),(0,e.createElement)(V,{title:"Calculation",showMenu:"calculation"===s.menu},(0,e.createElement)(o.Layout,{type:"col"},pe.func.map((function(t,r){var n=t.column,o=t.func;return(0,e.createElement)(D,{key:r,index:r,column:n,func:o,options:s.columns.filter((function(e){var t=e.value;return n===t||pe.group.indexOf(t)<0})),onChange:Le})})),pe.group.length<s.columns.length&&(0,e.createElement)(D,{options:s.columns.filter((function(e){var t=e.value;return pe.group.indexOf(t)<0})),onChange:Le})),(0,e.createElement)(o.Layout,{type:"col"},(0,e.createElement)(o.Layout,null,"Group By"),pe.group.map((function(t,r){return(0,e.createElement)(I,{key:r,index:r,column:t,options:s.columns.filter((function(e){var r=e.value;return t===r||pe.group.indexOf(r)<0})),onChange:Ae})})),pe.group.length<s.columns.length&&(0,e.createElement)(I,{options:s.columns.filter((function(e){var t=e.value;return pe.group.indexOf(t)<0})),onChange:Ae}))),(0,e.createElement)(V,{title:"Values",showMenu:"values"===s.menu},ve.data.map((function(t,r,n){return(0,e.createElement)(J,{key:r,index:r,caption:"".concat(r," {...}"),value:n[r],descriptor:de,expand:ve.expand===r,onChange:De,removable:!0})})),"post"===z?(0,e.createElement)(J,{onChange:De}):(0,e.createElement)(W,{onChange:Me})))),(0,e.createElement)(o.Layout,{type:"row",style:{marginTop:"1em"}},(0,e.createElement)(n.Button,{onClick:Ee,disabled:h||!A||!z},"Send")),(0,e.createElement)(o.Layout,{type:"col",style:{marginTop:"1em"}},!!he&&!M.disableCurl&&!!A&&(0,e.createElement)(t.Fragment,null,(0,e.createElement)(o.Layout,null,"Curl"),(0,e.createElement)(g,{style:{height:"10em"},className:j()(O&&"personalization-api-tool-error"),value:O||he,readOnly:!0}),(0,e.createElement)(o.Layout,{type:"row",style:{marginTop:"1em",marginBottom:"1em"}},(0,e.createElement)(n.Button,{onClick:je},"Copy"))),(0,e.createElement)(o.Layout,null,"Result"),(0,e.createElement)(g,{style:{height:"30em"},className:j()(O&&"fortressdb-api-tool-error"),value:O||B,readOnly:!0})),h&&(0,e.createElement)(n.Spinner,null))}se.displayName="APITool";var fe=n.Utils.useDictionary,pe=n.Tabs.Contents,de=n.Tabs.Tag,ve=n.Tabs.Page,ye="fortressdb-page-api";function me(r){var a=f((0,t.useState)(null),2),u=a[0],i=a[1],l=(0,t.useContext)(o.App.Context).state.options,s=void 0===l?{}:l,p=(0,t.useMemo)((function(){return[{name:"options",methods:["get"],api:["rest"],disableCurl:!0},{name:"auth/subscribe",methods:["post"],api:["rest"]},{name:"licenses",methods:["get"],auth:!0,query:{},api:["rest","socket"]},{name:"metadata",methods:["get","post","put","delete"],auth:!0,query:{},api:["rest","socket"],columns:[{value:"id",label:"ID",type:"number"},{value:"name",label:"Name"},{value:"createdAt",label:"Created At"},{value:"updatedAt",label:"Updated At"}],edit:{name:"string",fields:{type:"array",children:{type:{type:"string",options:["string","integer","float","boolean","text","json","uuid","date","datetime","time","enum","file"]},allowNull:"boolean",defaultValue:{type:{dependOn:"type",enabledFor:["string","integer","float","boolean","text","json","uuid","date","datetime","time","enum"]}},extend:{type:"object",children:{caption:"string",order:"integer",isMandatory:"boolean",isMultiple:"boolean",indexed:"boolean",placeholder:"string"}}}}}},{name:"objects",methods:["get","post","put","delete"],auth:!0,query:{context:{tableName:""},filter:{limit:50}},api:["rest","socket"],context:[{key:"tableName",isMulti:!1}]},{name:"enums",methods:["get","post","put","delete"],auth:!0,query:{},api:["rest","socket"],columns:[{value:"id",label:"ID",type:"number"},{value:"name",label:"Name"},{value:"createdAt",label:"Created At"},{value:"updatedAt",label:"Updated At"}],edit:{name:"string"}},{name:"enum_values",methods:["get","post","put","delete"],auth:!0,query:{context:{enumId:0}},api:["rest","socket"],context:[{key:"enumId",isMulti:!1}],columns:[{value:"id",label:"ID",type:"number"},{value:"label",label:"Label"},{value:"createdAt",label:"Created At"},{value:"updatedAt",label:"Updated At"}],edit:{label:"string"}},{name:"revisions",methods:["get"],auth:!0,query:{context:{tableName:"",objectId:0}},api:["rest","socket"],context:[{key:"tableName"}],columns:[{value:"id",label:"ID",type:"number"},{value:"createdAt",label:"Created At"},{value:"updatedAt",label:"Updated At"}]}]}),[s]),v=(0,t.useMemo)((function(){return p.filter((function(e){return e.api.indexOf("rest")>=0}))}),[p]),y=(0,t.useMemo)((function(){return p.filter((function(e){return e.api.indexOf("socket")>=0}))}),[p]),m=(0,t.useCallback)(function(){var e=c(d().mark((function e(t,r){var n,a,u,i,c,l,s,f,v,y,m,b=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=b.length>2&&void 0!==b[2]?b[2]:{},a=b.length>3&&void 0!==b[3]?b[3]:function(){},u=p.find((function(e){return e.name===t})),delete o.Endpoint.accessToken,!u.auth){e.next=10;break}return e.next=7,o.socket.authenticate();case 7:i=e.sent,c=i.socket.signedAuthToken,o.Endpoint.accessToken=c;case 10:return l=new o.Endpoint(t),s=l[r](n),a(t,r,n,o.Endpoint.accessToken),e.prev=13,e.next=16,s.json();case 16:return e.abrupt("return",e.sent);case 19:if(e.prev=19,e.t0=e.catch(13),!u.auth||401!==e.t0.statusCode){e.next=32;break}return e.next=24,o.socket.deauthenticate();case 24:return e.next=26,o.socket.authenticate();case 26:return f=e.sent,v=f.socket.signedAuthToken,o.Endpoint.accessToken=v,y=new o.Endpoint(t),m=y[r](n),e.abrupt("return",m.json());case 32:throw e.t0;case 33:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(t,r){return e.apply(this,arguments)}}(),[]),b=(0,t.useCallback)(function(){var e=c(d().mark((function e(t,r,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.socket[r](t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),[]),h=!!(s||{}).connected,g=fe();return(0,t.useEffect)((function(){h||i(g("plugin-not-connected"))}),[h]),(0,e.createElement)("div",{className:ye},(0,e.createElement)(n.Notify,{message:u,onClear:function(){return i(null)}}),h&&(0,e.createElement)(t.Fragment,null,(0,e.createElement)(o.PageHeader.Component,{title:"API Test Tool"}),(0,e.createElement)("div",{className:"".concat(ye,"__body")},(0,e.createElement)(n.Tabs.Component,{defaultTab:"rest"},(0,e.createElement)(pe,null,(0,e.createElement)(de,{tabId:"rest"},"REST"),(0,e.createElement)(de,{tabId:"socket"},"Socket")),(0,e.createElement)(ve,{tabId:"rest"},(0,e.createElement)(se,{endpoints:v,onSend:m})),(0,e.createElement)(ve,{tabId:"socket"},(0,e.createElement)(se,{endpoints:y,onSend:b}))))))}me.displayName="APITestTool";var be=n.Utils.renderDOM;function he(t){be((0,e.createElement)(o.App.Provider,null,(0,e.createElement)(o.App.Component,null,(0,e.createElement)(me,null))),t)}})(),u})()}));